# Документация по приложению для работы с веб-новеллами (v0.4)

## 1) Центральное поле (ежедневная рабочая панель)
- Это **основное рабочее поле приложения**, главный экран.
- Представление: **Месяц → Недели → Дни**.
- В каждой ячейке дня:
  - список **Работ**;
  - поля **План** (запланировано глав) и **Готово** (сделано глав);
  - метка **Приоритета** (1–4) с возможностью изменения кликом.
- **Редактируется вручную каждый месяц**: пользователь задаёт состав работ, план и выполненное, а также месяц и год.
- В конце месяца данные **сохраняются** как статистика и используются для формирования «ТОПа месяца».
- При наведении доступна подсказка (tooltip): приоритет, комментарии, быстрые переходы; ЛКМ по маркеру циклически меняет уровень, ПКМ открывает выбор.

### 1.1 Масштабирование центральной области
- В настройках приложения есть **тумблер «Редактирование масштаба»**.
- При его включении пользователь может изменять:
  - общий масштаб центрального окна;
  - ширину колонок;
  - высоту строк;
  - размер и отображение полей дат, месяцев, дней, чисел, недель, годов.
- После настройки тумблер можно отключить, и интерфейс фиксируется в выбранном виде.
- При повторном открытии приложения сохраняется последний вариант масштаба.
- Поля для ввода названия работы, количества запланированных глав и выполненных глав **всегда остаются редактируемыми**.

### 1.2 Специальная отметка 18+
- При редактировании работы в строке есть мини-поле для галочки **«18+»**.
- Если галочка установлена и редактирование завершено, в углу поля работы появляется надпись **«18+» красным шрифтом, верхним регистром**.

---

## 2) Левая выдвижная панель — «ТОП месяца»
- Скрываемая/разворачиваемая панель со **сводной таблицей по работам** за месяц: главы, прогресс, выпуск, профит, реклама, просмотры, лайки, спасибо и т.д.
- **Вводные поля** (для уточнения итогов месяца): год, месяц, работа, статус, 18+, всего глав, знаков/глава, запланировано, сделано, прогресс (%), выпуск, профит, расходы на рекламу, просмотры, лайки, спасибо.
- **Режим редактирования** (тумблер в настройках):
  - при включении можно менять **масштаб панели**, ширины колонок и высоты строк, состав и порядок колонок, а также содержимое полей;
  - при выключении редактирования панель переходит в режим просмотра (защита от случайных правок).
- Результаты сохраняются и далее используются для квартала/полугодия/года (см. «Топы»).

---

## 3) Правая выдвижная панель — «Постинг отложки по дням»
- Скрываемая/разворачиваемая панель со списком **выпусков по дням** (какая работа, какая глава выходит). 
- В каждой записи отображается **метка приоритета** работы.
- Синхронизирована с выбранными годом/месяцем центральной панели.
- **Режим редактирования** (тумблер в настройках):
  - при включении можно настраивать **масштаб панели**, ширины колонок и высоты строк, а также **вносить/редактировать расписание** отложенных выпусков;
  - после внесения изменений редактирование можно выключить для безопасного просмотра.

---

## 4) Нижняя скрываемая панель — «Результаты / Статистика»
- Независима от центрального поля. 
- **Годовая таблица**: столбцы — месяцы, итог — «Итого за год». 
- Показатели (строки): Работ, Завершённых, Онгоингов, Глав, Знаков, Просмотров, Профит, Реклама (РК), Лайков, Спасибо, Комиссия, Затраты на софт, Чистыми.
- Подсекция **«Затраты на софт»**: Вид → Прайс → Сколько взяли → Сумма, с итогом.
- **Графики** доступны **только** здесь (см. раздел «Графики»).

---

## 5) Дизайн и UX
- **Стиль**: минимализм.
- **Подсветка активного окна**: неоновая рамка. Настройки в верхней панели: размер свечения, толщина, интенсивность, цвет.
- **Тема и палитра**: две темы (дневная/ночная), выбор цветовой гаммы через **палитру**. Выдвигаемые панели — темнее, центральное поле — светлее.
- **Шрифты**: выбор системных шрифтов. Отдельно задаются шрифт **заголовков** (названия колонок таблиц, итоговые строки, названия полей, годов/дней/чисел) и шрифт **основного текста**.
- **Элементы управления**: все поля меню и **кнопки** со скруглёнными краями, единый стиль.
- **Масштабирование**: поддерживается для **левой**, **правой** и **нижней** панелей в развёрнутом виде (регулируемые разделители/сплиттеры).
- **Эффект стекла**: в настройках есть тумблер включения прозрачного размыто‑стеклянного фона. 
  - Дополнительные регуляторы: уровень прозрачности, степень размытости, текстура и чёткость.
  - На тёмной теме фон становится тёмным, размытым и полупрозрачным.

---

## 6) Приоритеты и их взаимодействие с центральным полем
- Приоритеты работ: **1 → ярко-зелёный**, **2 → зелёный**, **3 → жёлтый**, **4 → оранжевый**.
- В ячейке дня у каждой работы показывается **цветной маркер** приоритета (●). Фон ячеек нейтральный.
  - ЛКМ по маркеру циклически меняет приоритет.
  - ПКМ по маркеру вызывает список выбора уровня.
- Числа «План/Готово» для работы могут иметь контур цвета приоритета.
- **Сортировка внутри дня**: приоритет=1 поднимает работу выше.
- **Фильтры**: пресеты «Только 1–2» и выбор отдельных уровней.
- **Override на день**: приоритет можно временно менять для конкретных дат; запись попадает в «Ленту обновлений».
- Доступность: дублирование цвета символом (легенда приоритетов).

---

## 7) Сохранение, папки и разделение по годам
- В настройках указывается **папка сохранения** всех данных/результатов.
- Приложение **автоматически сохраняет** все данные и настройки интерфейса при закрытии.
- Ежемесячные правки центрального поля сохраняются как **статистика месяца** (в основе — ручной ввод пользователя по работам: план/сделано, месяц/год).
- **ТОП месяца** берёт эти сохранённые данные + вводные пользователя (прибыль, реклама, просмотры и т.п.) и формирует результаты, которые записываются в единую базу.
- Данные сохраняются **по годам**; предусмотрено **переключение года** и просмотр статистики за **любой период**, включая «за всё время».

---

## 8) Топы
- **Топ 1 месяца**: показывает статистику месяца с возможностью сортировки (по меткам: завершенные работы, профит и т.д.). 
- **Топ квартала**, **Топ полугодия**, **Топ года**. И с наступлением следующего года ставится другой год.
- Топы показывают **все работы и все данные их**, которые были в Топе месяца, сортируются и отображаются результаты. Эти данные сохраняются и служат для формирования топов квартала, полугодия и года. 
- Можно выбрать период (например, **за всё время** или **за конкретный год**).

---

## 9) Графики (только нижняя панель)
- Кнопка **«Показать графики»** в нижней панели: при активации графики **разворачиваются вниз**, а панель **поднимается вверх**.
- Тип: **линейные графики** по итогам месяца/года. 
- По умолчанию **каждая работа — отдельная линия**; цвета линий различаются и могут настраиваться.
- Поддерживается **сортировка** (по работам/месяцам/метрикам — профит, лайки, реклама и др.).

---

## 10) Настройки (верхняя панель)
- Тема (дневная/ночная) и **палитра**.
- Неоновая подсветка (размер, толщина, интенсивность, цвет).
- **Шрифты**: выбор системных шрифтов отдельно для заголовков и основного текста.
- **Папка сохранения** данных.
- Фильтры/пресеты приоритетов (легенда, быстрые фильтры 1–4, 1–2 и т.п.).
- Тумблер «Редактирование масштаба» для настройки центрального поля.
- Тумблер включения эффекта прозрачного стекла + регуляторы прозрачности, размытости, текстуры и чёткости.

---

## 11) Нижние элементы интерфейса
- **Левый нижний угол**: секундомер в формате **ДНИ:ЧАСЫ:МИНУТЫ:СЕКУНДЫ**, работает в реальном времени.
- **Правый нижний угол**: отображение версии приложения.
  - Версия обновляется автоматически при каждом слиянии PR в основную ветку GitHub.
  - Формат: **1.0.3** (означает, что было 103 слияния).

---

## 12) Поведение и сохранность данных
- Автосохранение данных и UI-настроек при закрытии.
- Хранение статистики помесячно с привязкой к **годам**.
- Возможность просматривать агрегаты за **любой период** (год, интервал, всё время).

---

### Примечание
Данная спецификация фиксирует вводные: состав экранов, правила взаимодействия приоритетов, требования к топам, графикам, темам/палитрам, шрифтам, сохранению, масштабированию панелей, эффекту стекла, отображению секундомера и версии. На её основе можно готовить ТЗ на реализацию.

